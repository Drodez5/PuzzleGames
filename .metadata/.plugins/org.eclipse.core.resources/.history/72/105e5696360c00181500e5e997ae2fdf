package dad.puzzlegames.controllers;

import java.io.IOException;
import java.net.URL;
import java.util.Optional;
import java.util.ResourceBundle;

import dad.puzzlegames.views.PuzzleGamesApp;
import javafx.event.ActionEvent;
import javafx.fxml.Initializable;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.scene.control.ButtonType;
import javafx.scene.layout.BorderPane;
import javafx.stage.Modality;
import javafx.stage.Stage;

public class PuzzleGamesController {

	private MenuController controladorMenu;
	private OpcionesPartidaController controladorOpciones;
	private BorderPane vista;
	private Stage appStage;

	public PuzzleGamesController() throws IOException {
		appStage = PuzzleGamesApp.getPrimaryStage();
		
		controladorMenu = new MenuController();
		controladorOpciones = new OpcionesPartidaController();
		vista = new BorderPane();
		vista.setCenter(controladorMenu.getVista());
		controladorMenu.getJugarButton().setOnAction(e -> onOpcionesPartidaButtonAction(e));
		controladorMenu.getMarcadorButton().setOnAction(e -> onMarcadorButtonAction(e));
		controladorMenu.getAcercaDeButton().setOnAction(e -> onAcercaDeButtonAction(e));
		controladorMenu.getSalirButton().setOnAction(e -> onSalirButtonAction(e));

	}

	private void onMarcadorButtonAction(ActionEvent e) {

	}

	private void onSalirButtonAction(ActionEvent e) {
		Alert alertExit = new Alert(AlertType.CONFIRMATION);
		alertExit.setTitle("PuzzleGames");
		alertExit.setHeaderText("Saliendo de PuzzleGames");
		alertExit.initOwner(appStage);
		alertExit.initModality(Modality.APPLICATION_MODAL);
		alertExit.setContentText("¿Seguro que quiere salir?");

		Optional<ButtonType> result = alertExit.showAndWait();
		if (result.get() == ButtonType.OK) {
			appStage.close();
		}

		

	}

	private void onAcercaDeButtonAction(ActionEvent e) {

	}

	private void onOpcionesPartidaButtonAction(ActionEvent e) {

	}

	public BorderPane getVista() {
		return vista;
	}

	public void setVista(BorderPane vista) {
		this.vista = vista;
	}

}
